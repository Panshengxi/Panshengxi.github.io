"use strict";var _interopRequireWildcard=function(e){return e&&e.__esModule?e:{default:e}},_classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();Object.defineProperty(exports,"__esModule",{value:!0});var _import=require("lodash"),_import2=_interopRequireWildcard(_import),_lowLevel$highLevel=require("./factory"),SDK=function(){function e(t,r){var i=void 0===arguments[2]?null:arguments[2];_classCallCheck(this,e),r&&t&&_import2.default.isObject(r)&&(this.host=t,this.routes=r,this.rules=i,this.rules&&this.init())}return _createClass(e,[{key:"rule",value:function(e,t){return!(!e||!t)&&(this.rules||(this.rules={}),this.rules[e.toLowerCase()]=t,this)}},{key:"init",value:function(){var e=this,t=this.host,r=this.rules,i=this.routes;return["get","post","put","delete"].forEach(function(i){return e[i]=_lowLevel$highLevel.lowLevel(t,i,r)}),Object.keys(i).forEach(function(l){var o=i[l],u={url:"string"==typeof o?o:o.url};["method","callback"].forEach(function(e){o[e]&&(u[e]=o[e])}),e[l]=_lowLevel$highLevel.highLevel(t,u,r)}),this}}]),e}();exports.default=SDK,module.exports=exports.default;